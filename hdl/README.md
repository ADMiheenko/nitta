# Аппаратная архитектура процессоров семейства NITTA

# Аппаратный интерфейс вычислительного блока

Порты ввода/вывода вычислительного блока можно разделить на следующие группы:

## Системные сигналы
- `cls` - тактовый сигнал;
- `rst` - сигнал сброса (1 - сброс, 0 - рабочий режим).
- `signal_cycle` - сигнал о начале вычислительного цикла (используется для синхронизации с вводом/выводом);
- 

## Управляющие сигналы

## Линии передачи данных

Назначение: передача данных между вычислительными блоками.

Набор параметров, состав портов и протокол работы с портами может варьироваться в зависимости от типа коммуникационной среды.

### Шина

Параметры:
- `DATA_WIDTH` - ширина шины данных;
- `ATTR_WIDTH` - ширина шины атрибутов.
- `INVALID_ATTR` (значение по умолчанию 0) - номер сигнала шины атрибутов, отвечающий за флаг некорректного значения;

Порты ввода:
- `input [DATA_WIDTH-1:0] data_in` - порт загрузки данных в вычислительный блок:
	- если на вычислительный блок не подан сигнал загрузки данных, то значение на порту игнорируется;
	- выгрузка данных на усмотрение разработчика:
		- может быть смещена относительно поданного сигнала:
			- `wr      : 0001000`;
			- `dataout : 0000*00`;
		- может быть одновременна с поданным сигналом:
			- `wr      : 0001000`;
			- `dataout : 000*000`.
- `input [ATTR_WIDTH-1:0] attr_in` - порт загрузки атрибутов данных в вычислительный блок. Аналогичен порту данных.
- `input [DATA_WIDTH-1:0] data_in_N` и `input [ATTR_WIDTH-1:0] attr_in_N` - дополнительные порты загрузки данных в вычислительный блок, где N - натуральное число. В настоящий момент не используются.

Порты вывода:
- `output [DATA_WIDTH-1:0] data_out` - порт, через который осуществляется выгрузка данных. Протокол:
	- если на вычислительный блок не подан сигнал о выгрузке данных, то значение на порту должно равняться 0;
	- выгрузка данных на усмотрение разработчика:
		- может быть смещена относительно поданного сигнала:
			- `oe      : 0001000`
			- `dataout : 0000*00`
		- может быть одновременна с поданным сигналом:
			- `oe      : 0001000`
			- `dataout : 000*000`
		- вычислительный блок может накладывать обоснованные ограничения на то, в течении какого времени данные доступны для выгрузки в зависимости от истории использования (к примеру: конвейерная организация);
- `output [ATTR_WIDTH-1:0] attr_out` - порт выгрузки атрибутов данных из вычислительный блок. Аналогичен порту данных. 
- `output [DATA_WIDTH-1:0] data_out_N` и `output [ATTR_WIDTH-1:0] attr_out_N` - дополнительные порты выгрузки данных из вычислительного блока, где N - натуральное число. В настоящий момент не используются.

 
## Внешние порты или порты системного ввода/вывода

Назначение: обмен данными с внешним по отношению к процессору миру (порты на пробрасываются как есть за пределы процессора NITTA). 

Допустимые типы портов: input, output, inout. 

Состав портов определяется исключительно типом реализуемого интерфейса ввода/вывода.
